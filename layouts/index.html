{{ define "main" }}
<header class="home-header" style="margin: 24px 0;">
  <h1 style="margin:0 0 8px;">{{ .Site.Title }}</h1>
  <p style="color:#64748b;">{{ if .Site.Params.description }}{{ .Site.Params.description }}{{ else }}欢迎来到我的私人小说空间，首页集中展示角色、通用设定科普与世界观目录。{{ end }}</p>
</header>

<section class="section section-characters" style="margin: 28px 0;">
  <h2 style="margin-bottom:12px;">角色</h2>
  {{ with .Site.GetPage "section" "characters" }}
    <div class="card-grid">
      {{ range first 8 .Pages }}
        <a class="card" href="{{ .Permalink }}">
          <h3>{{ .Title }}</h3>
          <p>{{ with .Params.summary }}{{ . }}{{ else }}{{ .Summary }}{{ end }}</p>
        </a>
      {{ end }}
    </div>
    <p class="more"><a href="{{ .Permalink }}">查看全部角色</a></p>
  {{ else }}
    <p style="color:#64748b;">暂无角色条目。</p>
  {{ end }}
</section>

<section class="section section-info" style="margin: 28px 0;">
  <h2 style="margin-bottom:12px;">通用设定与科普</h2>
  {{ $info := .Site.GetPage "section" "info" }}
  {{ if not $info }}{{ $info = .Site.GetPage "section" "guides" }}{{ end }}
  {{ if $info }}
    <div class="card-grid">
      {{ range first 6 $info.Pages }}
        <a class="card" href="{{ .Permalink }}">
          <h3>{{ .Title }}</h3>
          <p>{{ with .Params.summary }}{{ . }}{{ else }}{{ .Summary }}{{ end }}</p>
        </a>
      {{ end }}
    </div>
    <p class="more"><a href="{{ $info.Permalink }}">查看全部设定</a></p>
  {{ else }}
    <p style="color:#64748b;">暂无设定文档。</p>
  {{ end }}
</section>

<section class="section section-works" style="margin: 28px 0;">
  <h2 style="margin-bottom:12px;">作品世界观目录</h2>
  {{ with .Site.GetPage "section" "works" }}
    <div class="card-grid">
      {{ range first 6 .Pages }}
        <a class="card" href="{{ .Permalink }}">
          <h3>{{ .Title }}</h3>
          <p>{{ with .Params.summary }}{{ . }}{{ else }}{{ .Summary }}{{ end }}</p>
        </a>
      {{ end }}
    </div>
    <p class="more"><a href="{{ .Permalink }}">查看全部作品目录</a></p>
  {{ else }}
    <p style="color:#64748b;">暂无作品目录。</p>
  {{ end }}
</section>

<style>
  .card-grid { display:grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 16px; }
  .card { display:block; text-decoration:none; border:1px solid #e5e7eb; border-radius:10px; padding:12px; background:#fff; color:#0f172a; box-shadow:0 2px 8px rgba(0,0,0,0.04); }
  .card:hover { border-color:#cbd5e1; box-shadow:0 6px 16px rgba(0,0,0,0.08); }
  .card h3 { margin:0 0 6px; font-size:1rem; }
  .card p { margin:0; color:#64748b; font-size:.875rem; }
  .more a { color:#1d4ed8; text-decoration:none; }
  .more a:hover { text-decoration:underline; }
</style>
{{ end }}